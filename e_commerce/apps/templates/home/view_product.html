{% extends "layouts/base.html" %}


{% block head %}
    {{ block.super }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.1/css/bootstrap.min.css">
    {% endblock %}
    

    {% block content %}

    <section>
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h3 class="card-title">Product List</h3>
            <div>
                <a href="{% url 'add_category' %}" class="btn btn-success">
                    <i class="bi bi-plus"></i> Add Category
                </a>
                <a href= "{% url 'register_product' %}" class="btn btn-success">
                    <i class="bi bi-plus"></i> Add Product
                </a>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Category</th>
                            <th>Description</th>
                            <th>Price</th>
                            <th>Image</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for product in products %}
                        <tr>
                            <td>{{ product.name }}</td>
                            <td>{{ product.product_category.category_name }}</td>
                            <td>{{ product.description }}</td>
                            <td>{{ product.price }}</td>
                            <td><img src="/media/{{ product.image }}" class="img-thumbnail" style="width:100px;"></td>
                            <td>
                                <a href="/delete/{{ product.id }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this product?')">Delete</a>
                                
                                {% comment %} <a href="/update/{{ product.id }}" class="btn btn-primary">Edit</a>{% endcomment %}
                               
                                {% comment %} <a  href="/update/{{ product.id }}/"class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal{{ product.id }}">Edit</a> {% endcomment %}
                                {% comment %} <a href="{% url 'item_edit' product.id %}" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal{{ product.id }}">Edit</a> {% endcomment %}
                                <a href="{% url 'item_edit' product.id %}" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal">Edit</a>
                                
                                  
                               


                                

                                
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="5">No products found.</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    
                </table>
        
            </div>

        </div>
    </div>

    
    
      
</section>
    {% endblock %}
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.1/js/bootstrap.bundle.min.js"></script>
